{% extends "blog/base.html" %}
{% load static %}

{% block content %}

<div class="welcome-section-2">
    <h2 id="llista-h2">Listado de todos los posts</h2>
</div>

<section class="posts-grid">
    <div class="post-container">
        {% for post in all_posts %}
        <div class="card">
            <img src="{% static 'blog/images/'|add:post.image %}" alt="{{ post.title }}" class="card-image">
            <h3>{{ post.title }}</h3>
            <p>{{ post.content|truncatewords:20 }}</p>
            {% if post.slug %}
                <a href="{% url 'posts-detail-page' post.slug %}" class="btn">Leer más</a>
            {% else %}
                <a href="{% url 'posts-detail-page' 'no-slug' %}" class="btn">Leer más</a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}